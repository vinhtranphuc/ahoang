Type.registerNamespace("NotifyExtender");NotifyExtender=function(n){NotifyExtender.initializeBase(this,[n])};NotifyExtender.prototype={initialize:function(){NotifyExtender.callBaseMethod(this,"initialize")},dispose:function(){NotifyExtender.callBaseMethod(this,"dispose")}};NotifyExtender.registerClass("NotifyExtender",Sys.UI.Behavior);Type.registerNamespace("FastBusiness.AjaxControlExtender");FastBusiness.AjaxControlExtender.NotifyExtender=function(n){FastBusiness.AjaxControlExtender.NotifyExtender.initializeBase(this,[n]);var t=this;t._notifyContainerID=null;t._language="v";t._a$$=null;t._b$$=!1;t._message=null;t._c$$=null;t._d$$="offlineMessageList";t._messageIdList=null;t._e$$="offlineMessage";t._f$$="offlineMessageKey";t._g$$=null;t._i$$=null;t._j$$=null;t._k$$=null;t._dataId={code:0,groupCode:1,title:2,subTitle:3,content:4,status:5,groupColor:6,controller:7,refCode:8,s1:9,u_s1:10,u_s2:11,senderID:12,senderName:13,senderImageKey:14,user_id:15,popupTitle:16,popupSubTitle:17,popupContent:18,totalRecord:19};t._l$$=!1;t._hub=null;t._screenWidth=1024;t._toolbarWithText=!1};FastBusiness.AjaxControlExtender.NotifyExtender.prototype={initialize:function(){var n=this;FastBusiness.AjaxControlExtender.NotifyExtender.callBaseMethod(n,"initialize");this._keyupHandler=Function.createDelegate(n,n.e$);$addHandler(window,"keyup",n._keyupHandler);localStorage.getItem("language")&&(n._language=localStorage.getItem("language"));n._toolbarWithText=screen.width>n._screenWidth},dispose:function(){var n=this;FastBusiness.AjaxControlExtender.NotifyExtender.callBaseMethod(n,"dispose");n._message=null;n._i$$=null;try{$removeHandler(window,"keyup",n._keyupHandler)}catch(t){}n._keyupHandler=null;n._updateFromStorageHandler&&(clearInterval(n._updateFromStorageHandler),n._updateFromStorageHandler=null)},get_notifyContainerID:function(){return this._notifyContainerID},set_notifyContainerID:function(n){this._notifyContainerID!=n&&(this._notifyContainerID=n)},get_language:function(){return this._language},set_language:function(n){this._language!=n&&(this._language=n)},get_servicePath:function(){return this._servicePath},set_servicePath:function(n){this._servicePath!=n&&(this._servicePath=n)},get_serviceMethod:function(){return this._serviceMethod},set_serviceMethod:function(n){this._serviceMethod!=n&&(this._serviceMethod=n)},get_serviceMessageMethod:function(){return this._serviceMessageMethod},set_serviceMessageMethod:function(n){this._serviceMessageMethod!=n&&(this._serviceMessageMethod=n)},get_serviceCommandMethod:function(){return this._serviceCommandMethod},set_serviceCommandMethod:function(n){this._serviceCommandMethod!=n&&(this._serviceCommandMethod=n)},get_rightKey:function(){return this._a$$},set_rightKey:function(n){this._a$$!=n&&(this._a$$=n)},updated:function(){var n,u,i;FastBusiness.AjaxControlExtender.NotifyExtender.callBaseMethod(this,"updated");var t=this,r=t.y$(t._e$$),h=r&&r.length>0&&r[2]?r[2].StorageKey:"",f={action:"Loading",currentCode:"",previousCode:"",nextCode:"",resource:"",loadingKey:h};if(r&&r[0]){for(n=r[0],i=n.length-1;i>=0;i--)if(n[i]==null)n.pop();else break;if(t.z$(t._e$$,r),n.length>0){var s=n.length-1,e=s-1,o=s+1;for(e<0&&(e=n.length-1),o>n.length-1&&(o=0),f.currentCode=n[s][t._dataId.code],n[e]!=null&&(f.previousCode=n[e][t._dataId.code]),n[o]!=null&&(f.nextCode=n[o][t._dataId.code]),u=[],i=0;i<n.length;i++)n[i]!=null&&n[i][t._dataId.controller]!=""&&u.indexOf(n[i][t._dataId.controller])<0&&u.push(n[i][t._dataId.controller]);u.length>0&&(f.resource=u.join(","))}}t.d$();t._invoke(f);t._updateFromStorageHandler=setInterval(function(){t.v$()},5e3)},a$:function(n,t){var i=$get(String.format("{0}_MessageAlert",this.get_id())),r;n==0&&(t=!1);n!=0||t?(i.style.padding="0 2px",r=this.x$("MessageAlert"),r=String.format(r,n,n==1||n==0?"":"s"),i.setAttribute("title",r),i.innerHTML=n,i.style.width="auto",i.style.marginLeft="4px",i.style.cursor="pointer"):(i.setAttribute("title",""),i.style.padding="0",i.innerHTML="&nbsp;",i.style.width="0",i.style.marginLeft="0",i.style.cursor="default")},b$:function(){var n=this,t=$get(String.format("{0}_MessageContainer",n.get_id())),i;t.childNodes.length<2?n.c$(t):(i=t.childNodes[1],n._b$$?(n.K$(i,!1),n._b$$=!1):(n.K$(i,!0),n._b$$=!0))},c$:function(n){var o=$get(String.format("{0}_MessageAlert",this.get_id())),f,t,e;if(!o||(f=o.innerHTML,f!=""&&f!=" "&&f!="&nbsp;")){var i=this,r=i.get_id(),u=$common.createElementFromTemplate({nodeName:"div",properties:{id:String.format("{0}_MessageViewer",r)},cssClasses:["MessageViewer"]});u.style.zIndex=$func.getLastIndex()+1;n.appendChild(u);t=new Sys.StringBuilder;t.append(String.format('<div style="background-color:#edf5ff;height:100%;">'));t.append(String.format('<div class="MessagePanelHeader" style="border-left:0; border-right:0;"><div style="padding: 4px 4px 0 5px;">'));e=i._message.length>1?"":"display:none;";t.append(String.format('<div class="MessageButton ToolbarBackgroundImage ToolbarPrev" title="{0}" style="{2}" onclick="$find(\'{1}\').l$(false);" onmouseout="Sys.UI.DomElement.removeCssClass(this, \'ToolbarPrevOver\');" onmouseover="Sys.UI.DomElement.addCssClass(this, \'ToolbarPrevOver\');"><\/div>',i.x$("MessagePrevious"),r,e));t.append('<div style="display:inline-block;overflow:hidden;height:13px;border-width:0px;width:4px;"><\/div>');t.append(String.format('<div class="MessageButton ToolbarBackgroundImage ToolbarNext" title="{0}" style="{2}" onclick="$find(\'{1}\').l$(true);" onmouseout="Sys.UI.DomElement.removeCssClass(this, \'ToolbarNextOver\');" onmouseover="Sys.UI.DomElement.addCssClass(this, \'ToolbarNextOver\');"><\/div>',i.x$("MessageNext"),r,e));t.append(String.format('<span id="{0}_MessagePageInfo" class="MessagePageInfo"><\/span>',r));t.append(String.format('<span class="MessageClose" title="{0}" onclick="$find(\'{1}\').b$();"><\/span>',i.x$("MessageClose"),r));t.append("<\/div><\/div>");t.append(String.format('<div id="{0}_MessagePanelBody" class="MessagePanelBody"><\/div>',r));t.append("<\/div>");u.innerHTML=t.toString();i._btnPrev=u.getElementsByClassName("ToolbarPrev")[0];i._btnNext=u.getElementsByClassName("ToolbarNext")[0];i.K$(u,!0);i.l$();i._b$$=!0}},d$:function(){var n=new Sys.StringBuilder;n.append(String.format('<div id="{0}_MessageContainer" class="MessageContainer"><div id="{0}_MessageAlert" class="MessageAlert" onclick="$find(\'{0}\').b$();"><\/div><\/div>',this.get_id()));$get(this._notifyContainerID).innerHTML=n.toString()},e$:function(n){n.keyCode===27&&this._b$$&&this.b$()},_invoke:function(n){var t=this;Sys.Net.WebServiceProxy.invoke(t._servicePath,t._serviceMethod,!1,n,Function.createDelegate(t,t.f$),Function.createDelegate(t,t.g$))},f$:function(n){var t=this,k=t.get_id(),e=$get(String.format("{0}_MessagePanelBody",k)),f,c,b,r,l;if(!n&&e){e.innerHTML=this.x$("ProcessFailed");return}var i=t.y$(t._e$$),d=i&&i.length>0&&i[2]?i[2].StorageKey:"",u=n[0],o=n[1],s=n[2],a=s.Action,g=s.StorageKey,h=0;if((a=="Next"||a=="Back")&&(t._btnPrev._disabled=!1,t._btnNext._disabled=!1),u.length>0&&(h=u[0][t._dataId.totalRecord]),d!=g||i==null)i=new Array(3),i[0]=new Array(h),i[1]=n[1],i[2]=n[2],t._messageIdList="";else{if(i[0]==null&&(i[0]=[]),u.length>0)if(i[0].length>0)for(r=0;r<h;r++)i[0].push(null);else i[0]=new Array(h);t._messageIdList=localStorage.getItem(t._d$$)}if(u.length>0){var v=t._c$$!=null?t._c$$:i[0].length-1,y=v-1,p=v+1,w;for(y<0&&(y=i[0].length-1),p>i[0].length-1&&(p=0),r=0;r<u.length;r++)w=u[r][t._dataId.totalRecord]==-1?y:u[r][t._dataId.totalRecord]==-2?p:v,i[0][w]==null&&(i[0][w]=u[r])}if(i){if(t._message=i[0],t._i$$=i[1],o.length>0){for(f=0;f<o.length;f++){for(c=!1,b=o[f].Key,r=0;r<i[1].length;r++)if(i[1][r].Key==b){c=!0;break}c||i[1].push(o[f])}t.w$(i[1])}}else t._message=null,t._i$$=null,t._c$$=null,t._messageIdList="",t._g$$=null;t.z$(t._e$$,i);t._messageIdList||(t._messageIdList="");localStorage.setItem(t._d$$,t._messageIdList);t._g$$=t.u$();localStorage.setItem(t._f$$,t._g$$);l=t._messageIdList!=""?t._messageIdList.split(",").length:0;t.a$(t._message&&t._message.length>=l?t._message.length-l:0,!0);a=="Loading"&&s.PushNotify&&(t._l$$=!0,t.h$(s.UserId));e&&e._messageIndex==null&&t.l$()},g$:function(){},h$:function(n){var t=this;t.C$();t._docLoadedHandler=setInterval(function(){document.readyState==="complete"&&(t._docLoadedHandler&&(clearInterval(t._docLoadedHandler),t._docLoadedHandler=null),t._chatPageID=t.F$(),t.G$(t._chatPageID,{PageVisible:!1,PageNotified:!1}),t._hub=FastHub._hub,t.j$(t._hub),$.connection.hub.start().done(function(){FastHub._isStarted=!0;t.i$(t._hub,n)}))},30)},i$:function(n,t){n.invoke("connectUser",t)},j$:function(){var n=this;n._hub.on("onReceiveNotify",function(t){n.k$(t)})},k$:function(n){var t=this,l=t.get_id(),r=n[0],u=n[1],i,o,c,f,s,h,e;if(r.length!=0){if(i=t.y$(t._e$$),i){if(i[0].push(r[0]),t._message=i[0],u.length>0){for(o=!1,c=u[0].Key,f=0;f<i[1].length;f++)if(i[1][f].Key==c){o=!0;break}o||(i[1].push(u[0]),t.w$(i[1]))}t.z$(t._e$$,i);t._g$$=t.u$();localStorage.setItem(t._f$$,t._g$$);t._messageIdList==null&&(t._messageIdList=localStorage.getItem(t._d$$));s=t._messageIdList!=""?t._messageIdList.split(",").length:0;t.a$(t._message.length>=s?t._message.length-s:0,!0);t._message.length>1&&t._btnPrev&&t._btnPrev.style.display!=""&&(t._btnPrev.style.display="",t._btnNext.style.display="");h=$get(String.format("{0}_MessagePageInfo",l));h&&(e=t.x$("MessagePageInfo"),e=e.replace("%s",t._c$$+1+"/"+t._message.length),h.innerText=e)}else t._message=n[0],t._i$$=u,t.z$(t._e$$,n),t._g$$=t.u$(),localStorage.setItem(t._f$$,t._g$$),t.a$(t._message.length),t.w$(u);t.B$();t.I$(r[0][t._dataId.popupTitle],r[0][t._dataId.popupSubTitle],r[0][t._dataId.senderID],r[0][t._dataId.senderImageKey],r[0][t._dataId.popupContent])}},l$:function(n){var t=this,r,s,h,f,v,c,y,l,e,o,p;if(t._message.length!=0){t._c$$==null&&(t._c$$=t._message.length-1);var w=t.get_id(),a,u=$get(String.format("{0}_MessagePanelBody",w)),i=t._c$$;if(n!=null&&n!="undefined"&&(n?(i+=1,i>t._message.length-1&&(i=0)):(i-=1,i<0&&(i=t._message.length-1))),a=t._message[t._c$$],i>=0&&i<t._message.length){if(r=t._message[i],r){if(a=r,(i!=t._c$$||u._messageIndex==null)&&(t._c$$=i,u.innerHTML="",u.appendChild(t.m$(r)),u._messageIndex=t._c$$,r[t._dataId.status]==1&&t._updateMessage(r[t._dataId.code],"#Auto"),s=u.getElementsByTagName("input"),s))for(r._inputData={},h=0;h<s.length;h++)f=s[h],v=f.id&&f.id!=""?f.id:f.name,v in r._inputData||(r._inputData[v]=f.value)}else u._messageIndex=null,u.innerHTML="",c=document.createElement("div"),c.className="Wait",c.style.margin="5px",u.appendChild(c);y=$get(String.format("{0}_MessagePageInfo",w));y&&(l=t.x$("MessagePageInfo"),l=l.replace("%s",t._c$$+1+"/"+t._message.length),y.innerText=l)}a&&(e=t._c$$-1,o=t._c$$+1,e<0&&(e=t._message.length-1),o>t._message.length-1&&(o=0),(t._message[e]==null||t._message[o]==null)&&(p={action:n!=null?n?"Next":"Back":"",currentCode:a[t._dataId.code],previousCode:t._message[e]?t._message[e][t._dataId.code]:"",nextCode:t._message[o]?t._message[o][t._dataId.code]:"",resource:"",loadingKey:""},t._invoke(p)))}},puCreateMessageItem:function(n){return this.m$(n)},m$:function(n){var t=this,g=t.get_id(),u=document.createElement("div"),k=$common.createElementFromTemplate({nodeName:"div",cssClasses:["MessageFlag"]}),f,o,h,c,v,y,l,s,a,i,e,p;n[t._dataId.groupColor]!=""&&(k.style.backgroundColor="#"+n[t._dataId.groupColor]);u.appendChild(k);f=document.createElement("div");f.className="MessageHeader";f.style="display:inline-block;overflow:hidden;height:48px;width:100%;top:0px;left:0px;outline:none;";u.appendChild(f);var d=n[t._dataId.controller],w=!1,r=null,b={value:!1};if(d!=""){for(o=null,i=0;i<t._i$$.length;i++)if(t._i$$[i].Key==d){o=t._i$$[i].Value;break}o!=null&&o[0]!=""&&(l=o[0],r=document.createElement("div"),r.className="MessageToolbar",u.appendChild(r),w=!0,t.n$(n,r,l,b))}if(h=n[t._dataId.title],c=n[t._dataId.subTitle],h==""?h=n[t._dataId.senderName]:c=String.format('<span style="font-weight:700;padding-right:8px;">{0}<\/span>{1}',n[t._dataId.senderName],c),v=$common.createElementFromTemplate({nodeName:"div",properties:{style:{overflow:"hidden"}},cssClasses:["MessageTitleText"]}),v.innerHTML=h,f.appendChild(v),y=$common.createElementFromTemplate({nodeName:"div",properties:{style:{overflow:"hidden"}},cssClasses:["MessageSubTitleText"]}),y.innerHTML=c,f.appendChild(y),b.value||n[t._dataId.status]!=0||(r==null&&(r=document.createElement("div"),r.className="MessageToolbar",u.appendChild(r),w=!0),l="Confirm"+String.fromCharCode(253)+t.x$("ButtonConfirm")+String.fromCharCode(253)+"MessageButtonConfirm"+String.fromCharCode(253)+"this._controlBehaviour.t$(this);",t.n$(n,r,l,b,!0)),s=document.createElement("div"),s.className=w?"MessageContent2":"MessageContent",s.innerHTML=n[t._dataId.content],u._contentElement=s,u.appendChild(s),a=u.getElementsByTagName("input"),a&&"_inputData"in n)for(i=0;i<a.length;i++)e=a[i],p=e.id&&e.id!=""?e.id:e.name,p in n._inputData&&(e.value=n._inputData[p]);return u},n$:function(n,t,i,r,u){for(var o=this,c=i.split(String.fromCharCode(254)),l=o._toolbarWithText?"MessageToolbarTextButton Text":"MessageToolbarButtonExt ",a=o._toolbarWithText?"Text":"",s=0;s<c.length;s++){var e=c[s].split(String.fromCharCode(253)),h=e[1].replace(/ÿ/g,"ý"),f=document.createElement("div");f.title=e[4]!="1"?h:"";f._messCode=n[o._dataId.code];f._controller=n[o._dataId.controller];f._commandName=e[0];f.id=e[0];e[2]!=""?(f.className=l+e[2],o._toolbarWithText&&(f.innerHTML=h)):(f.innerHTML=h,f.className="MessageToolbarButton");e[3]!=""?(f._controlBehaviour=o,f._message=n,f.setAttribute("onclick",e[3])):f.setAttribute("onclick",String.format("$find('{0}').q$(this);",o.get_id()));u?t.insertBefore(f,t.firstChild):t.appendChild(f);e[0]=="Confirm"&&(r.value=!0)}},_updateMessage:function(n,t){var i=this,r;localStorage.getItem(i._d$$).indexOf(n)<0?(i._messageIdList+=(i._messageIdList!=""?",":"")+n,Sys.Net.WebServiceProxy.invoke(i._servicePath,i._serviceMessageMethod,!1,{code:n,parameter:t},Function.createDelegate(i,i.o$),Function.createDelegate(i,i.p$))):t=="#Confirm"&&(r=i.x$("UpdateConflict"),i.A$(r))},o$:function(n){var t=this,i,r;localStorage.setItem(t._d$$,t._messageIdList);i=t.y$(t._e$$);r=t._messageIdList!=""?t._messageIdList.split(",").length:0;t.a$(i[0].length>=r?i[0].length-r:0,!0);n&&n.length>0&&t.A$(n[0])},p$:function(){this.A$(this.x$("ProcessFailed")+" #01")},q$:function(n){var t=this,i=n._messCode,r=n._controller,u=n._commandName;Sys.Net.WebServiceProxy.invoke(t._servicePath,t._serviceCommandMethod,!1,{code:i,controller:r,commandName:u},Function.createDelegate(t,t.r$),Function.createDelegate(t,t.s$))},r$:function(n){n&&n.length>0&&this.A$(n[0])},s$:function(){this.A$(this.x$("ProcessFailed")+" #02")},t$:function(n){var t=n._message[this._dataId.code];this._updateMessage(t,"#Confirm")},u$:function(){var t="",n;if(this._message)for(n=0;n<this._message.length;n++)t+=String.fromCharCode(253)+(this._message[n]?this._message[n][this._dataId.code]:"");return t},v$:function(){var n=this,r=localStorage.getItem(n._f$$),t,i;n._g$$!=r&&(t=n.y$(n._e$$),t!=null&&t.length>0&&(n._message=t[0],n._i$$=t[1],n._g$$=r,i=n._messageIdList&&n._messageIdList!=""?n._messageIdList.split(",").length:0,n.a$(n._message.length>=i?n._message.length-i:0),n.w$(t[1])))},w$:function(n){var t=this,f,u,i,r;if(n!=null)for(t._i$$=n,t._j$$!=null&&t._j$$.parentNode.removeChild(t._j$$),t._k$$!=null&&t._k$$.parentNode.removeChild(t._k$$),f=document.head||document.getElementsByTagName("head")[0],u=0;u<n.length;u++){var o=n[u].Value,e=o[1],s=o[2];e!=""&&(i=document.createElement("style"),i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),f.appendChild(i),t._j$$=i);s!=""&&(r=document.createElement("script"),r.type="text/javascript",r.appendChild(document.createTextNode(s)),f.appendChild(r),t._k$$=r)}},x$:function(n){var t=String.format("FastBusiness.AjaxControlExtender.NotifyExtender.Resources.{0}.{1}",n,this._language=="v"?"v":"e");try{return eval(t)}catch(i){return null}return null},y$:function(n){return JSON.parse(localStorage.getItem(n))},z$:function(n,t){return localStorage.setItem(n,JSON.stringify(t))},A$:function(n){$message.show(n)},B$:function(){var n=$get("chatNotificationSoundPlayer");n&&n.play()},C$:function(){var n=this,t=null,i=n.D$();i&&(t=n.E$(),n._showNotificationPanel=t.Granted)},D$:function(){var n=!1;try{n=!!("Notification"in window)}catch(t){return!1}return n},E$:function(){var i="default",t="granted",r="denied",n,u=[t,i,r];return window.Notification&&window.Notification.permissionLevel?n=window.Notification.permissionLevel():window.webkitNotifications&&window.webkitNotifications.checkPermission?n=u[window.webkitNotifications.checkPermission()]:window.Notification&&window.Notification.permission?n=window.Notification.permission:navigator.mozNotification?n=t:window.external&&window.external.msIsSiteMode()!==undefined&&(n=window.external.msIsSiteMode()?t:i),{Default:n===i,Granted:n===t,Denied:n===r}},F$:function(){var n=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(t=="x"?i:i&3|8).toString(16)});return t.split("-").join("").toLowerCase()},G$:function(n,t){var i={PageID:n,PageVisible:t.PageVisible,PageNotified:t.PageNotified};localStorage.setItem("NotifyPageVisibility",JSON.stringify(i))},H$:function(){var n=localStorage.getItem("NotifyPageVisibility");if(n)return JSON.parse(n)},I$:function(n,t,i,r,u){var f=this,o="",s,l,h;if(f._showNotificationPanel){var c=f.H$(),e=c.PageID,a=c.PageVisible,v=c.PageNotified;e!=f._chatPageID||a||v||(r!=""?(s={PostAction:10,PostMediaKey:r,PostMediaType:2},t="",s=Sys.Serialization.JavaScriptSerializer.serialize(s),o=String.format("../AppHandler/Image.ashx?s=1&c=ProfileImage&t=show&k={0}&d=&r={1}",i,r)):o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABKVBMVEX///9cXFxcXFxcXFxcXFy2u79cXFxcXFxcXFy3vMBcXFxcXFxcXFzv8vP2+Pnw8/Tu8fL8/Pz8/f3x9PW1u8DGy87HzM/Fy873+fm1u77r7vD5+/u0ur77/Pzn6+3y9PXl6ezl6evu8vPHzNDm6uzw8vPs8PLz9vf6/Pzx8/XT19r1+PjHy8/6+/vc4OPw8/Xf4+fIzNDY3N7p7O7j5+rp7O/h5ej4+frKz9Pb4OPKztLk6evIzdDy9fbz9fby9fXn6+zt8PL4+vro6+7h5enu8PLs7/Ds7/Hj6Ovg5Of3+fre4+bJztHW2t3JztLKz9LM0NTj5+vi5en8/v719/j09/f09vf9/v7d4uTT2Nu1u7/Hy87V2dyutLnu8fPq7e/z9ffk6Ovi5ulGVCfZAAAADXRSTlMAFgBDELQNFQTzMUIFQY+tFQAAAY5JREFUeF7NztVuIzEUgOHJbqBke5AZwswMZWampfd/iHrGo0pJN92rSvtdWdbvc0z9D1YSvKIvofCJFSrJs3KxCP+iWJRZPkmllPIZc1w7/KB2zJyVlRQV07Vaj9m5+rPgaofp1TQ9hoNuq3PBXB78nnNwyVx0Wl0SDO2+ZNgLDKlvD0kg2/asIhrmHEOszGxbJoHvm+ZD3Wg337WN+oNp+n4U4AfbzUfJUN8Z0mNzG1+TADYD6ovA0JkQzQgvangJyYSfATVz6rHgBwZY7zSjhpfRhGisVx+xHEIcO6p70TpIgj0c7GslsVo6ub++vj8pVcWSto+DvWjFJl67JTwjgMRXTMSHZ2ELf2hTJgG968pCowpoF3GWxSGXBtWGILu7dBQAAM8b+XTwvxA+pPONcwgACY7ycOBYKD0HWc4A5o/CQIMFZ8yhBdzYKUCNBAUwmVofTCegQILcze1dNvtrQTZ7d3uTCwKezWlL5FgeB6tP+lJPqzEqvrb+fan1tTi1EY99Ir5BffsH6uu9Ad8IbU8/aAT1AAAAAElFTkSuQmCC",u.length>f._shortMessageLength&&(u=String.format("{0}...",u.substring(0,f._shortMessageLength))),l=(t!=""?t+"\n":"")+u,h=f.J$(n,{icon:o,body:l}),h.onclick=function(){f.G$(e,{PageVisible:!1,PageNotified:!1})},h.onclose=function(){f.G$(e,{PageVisible:!1,PageNotified:!1})},f.G$(e,{PageVisible:!a,PageNotified:!0}))}},J$:function(n,t){var i;return window.Notification?i=new window.Notification(n,{icon:t.icon,body:t.body}):window.webkitNotifications?(i=window.webkitNotifications.createNotification(t.icon,n,t.body),i.show()):navigator.mozNotification?(i=navigator.mozNotification.createNotification(n,t.body,t.icon),i.show()):window.external&&window.external.msIsSiteMode()&&(window.external.msSiteModeClearIconOverlay(),window.external.msSiteModeSetIconOverlay(t.icon,n),window.external.msSiteModeActivate(),i={ieVerification:ieVerification+1}),i},K$:function(n,t){n.style.display=t?"":"none"}};FastBusiness.AjaxControlExtender.NotifyExtender.registerClass("FastBusiness.AjaxControlExtender.NotifyExtender",Sys.UI.Control,Sys.IDisposable);FastBusiness.AjaxControlExtender.NotifyExtender.Resources={MessageAlert:{v:"Bạn có {0} tin nhắn kể từ lần truy cập gần đây.",e:"You have {0} message{1} since your last visit."},MessagePrevious:{v:"Trước",e:"Previous"},MessageNext:{v:"Tiếp",e:"Next"},MessageClose:{v:"Đóng",e:"Close"},MessagePageInfo:{v:"Bản ghi %s",e:"Item %s"},ButtonConfirm:{v:"Nhận",e:"Mark As Read"},UpdateConflict:{v:"Thông báo này đã nhận hoặc thay đổi thông tin.",e:"This notification has been received or changed information."},ProcessFailed:{v:"Phát sinh lỗi trong quá trình thực hiện:",e:"The process was failed:"}};typeof Sys!="undefined"&&Sys.Application.notifyScriptLoaded()